<div class="app-container" [class.sidebar-open]="sidebarOpen">
  <!-- Mobile Header with Menu Toggle -->
  <header class="mobile-header">
    <ion-button fill="clear" (click)="toggleSidebar()">
      <ion-icon name="menu-outline" slot="icon-only"></ion-icon>
    </ion-button>
    <h1>Bigin CRM</h1>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar" [class.visible]="sidebarOpen || !isMobile">
    <div class="menu-header">
      <div class="user-info">
        <div class="avatar">
          {{ getUserInitials() }}
        </div>
        <div class="user-details">
          <h3>{{ currentUser?.name }}</h3>
          <p>{{ currentUser?.email }}</p>
        </div>
      </div>
    </div>



<div class="menu-content-list">
      <ion-list lines="none" class="menu-list">
        <ion-item button routerLink="/dashboard" routerLinkActive="active" routerDirection="root" (click)="closeSidebarOnMobile()">
          <ion-icon slot="start" name="home-outline"></ion-icon>
          <ion-label>Dashboard</ion-label>
        </ion-item>

        <ion-item-divider>Bigin CRM</ion-item-divider>

        <ion-item button routerLink="/contacts" routerLinkActive="active" routerDirection="root" (click)="closeSidebarOnMobile()">
          <ion-icon slot="start" name="people-outline"></ion-icon>
          <ion-label>Contacts</ion-label>
        </ion-item>

        <ion-item button routerLink="/companies" routerLinkActive="active" routerDirection="root" (click)="closeSidebarOnMobile()">
          <ion-icon slot="start" name="business-outline"></ion-icon>
          <ion-label>Companies</ion-label>
        </ion-item>

        <ion-item button routerLink="/deals" routerLinkActive="active" routerDirection="root" (click)="closeSidebarOnMobile()">
          <ion-icon slot="start" name="trending-up-outline"></ion-icon>
          <ion-label>Deals</ion-label>
        </ion-item>

        <ion-item button routerLink="/tasks" routerLinkActive="active" routerDirection="root" (click)="closeSidebarOnMobile()">
          <ion-icon slot="start" name="checkbox-outline"></ion-icon>
          <ion-label>Tasks</ion-label>
        </ion-item>

        <ion-item button routerLink="/activities" routerLinkActive="active" routerDirection="root" (click)="closeSidebarOnMobile()">
          <ion-icon slot="start" name="calendar-outline"></ion-icon>
          <ion-label>Activities</ion-label>
        </ion-item>

        <ion-item-divider>Sales</ion-item-divider>

        <ion-item button routerLink="/products" routerLinkActive="active" routerDirection="root" (click)="closeSidebarOnMobile()">
          <ion-icon slot="start" name="cube-outline"></ion-icon>
          <ion-label>Products</ion-label>
        </ion-item>

        <ion-item button routerLink="/quotes" routerLinkActive="active" routerDirection="root" (click)="closeSidebarOnMobile()">
          <ion-icon slot="start" name="document-text-outline"></ion-icon>
          <ion-label>Quotes</ion-label>
        </ion-item>

        <ion-item button routerLink="/invoices" routerLinkActive="active" routerDirection="root" (click)="closeSidebarOnMobile()">
          <ion-icon slot="start" name="receipt-outline"></ion-icon>
          <ion-label>Invoices</ion-label>
        </ion-item>
      </ion-list>
    </div>

    <div class="menu-footer">
      <ion-item button (click)="logout()" lines="none">
        <ion-icon slot="start" name="log-out-outline"></ion-icon>
        <ion-label>Logout</ion-label>
      </ion-item>
    </div>
  </aside>

  <!-- Overlay for mobile when sidebar is open -->
  <div class="sidebar-overlay" [class.visible]="sidebarOpen && isMobile" (click)="closeSidebar()"></div>

  <!-- Main Content -->
  <main class="main-content" [class.col-8]="sidebarOpen || !isMobile" [class.col-12]="!sidebarOpen && isMobile">
    <ion-router-outlet id="main-content"></ion-router-outlet>
  </main>
</div>
